# SelfServe: A web based delivery service
#### Video Demo:  <URL HERE>
#### Description:
  SelfServe is a web application which enables easy interactions between a restaurant and its customers. The app is written in Python, using Flask as a framework. My objective was to make an app which allowed for an easy set up, letting new businesses have the nuance of an internet page and a database without the need for a personalized program.
  Inside the templates folder reside the htmls for the project:
  * **"index.html"** is the client interactive page. In it I have a bootstrap carousel which shows the different foods the restaurant has to offer, along with their prices, but the most important part is the ordering form. In it I query the user for their name, and optionally an email, after which the user select's one of three radios, depending on if they want to pick up their food, if they are eating at the restaurant or if they want a delivery. Depending on the option they chose, an input field appears, asking them for their table or their direction. If the user is at the restaurant, the email field is disabled, as it is used to notify the customer when their food is ready to pick up or on the way. Below that there's an "Add Combo" button, that, when clicked, gives the user an input selector to choose one of the dishes (I call them combos) the restaurant offers; clicking the button multiple times gives you multiple input fields. Finally, after that, there's the submit button that sends the order.
  * **"control.html"** is the other important page, working as the controller for the restaurant. It displays a table with the number, name, tipe of delivery, order and total value of each order, besides where there are two buttons: a save button, which saves the order onto a log and emails the customer to tell them the order is ready, and a delete button, which can be used to dismiss orders.
  * **"login.html"** is simply a username and password form which redirects to control.html
  * **"log.html"** has a table which displays all already done orders and info about each one
  * **"layout.html"** has the references to my .css, .js and to bootstrap.
   
"application.py" is the main file. After importing a couple of modules, I set up Flask and Flask_mail, along with the database with CS50's module. Then, I a list of numbers is created, each one representing one of the disher offered by the restaurant. The different routes a user can take are:
  * **"/index"** routes the user to the "index.html" file, allowing GET and POST as request methods. When using GET, the app renders the page using jinja to offer only the items in the menu as options.
When using POST, the first thing it does is chech for the name and the order of the customer, alerting them accordingly if there's any problem. If the user typed their email into the form, the program checks if it has a "@" and a ".com", alerting the user otherwise. After that, the total value of the food is processed and the order is stored into the database. If that's sucessful, the webpage displays an alert telling the user the total price of their meal.
  * **"/login"** firsts sets up a username and a password (In this case I stored it as an env variable), and then shows the user a login form. If it's correct, the site redirects (with POST) the user to "control.html". If the login info is right, the app gives the user a session key, allowing them to access /control without logging in thereafer
  * **"/control"** checks if the user has a session key, and redirects them to login if they don't. If they have one, the page shows them a table with info about every active order. To the right of each one, two "submit" type buttons with the values of "save" and "delete" respectively are found. When the user presses one of them, the app recieves the value of the pressed button, and depending on it, either changes the order value to "done" (Stored in the database), thus moving it to the log, or removes it from the database. On the lower-right side of the table, there is a button that redirects the user to the Order log.
  * **/log** shows the user a table with all the already done order, with some info about them (Name, delivery type, dishes, price and time)

Finally, the functions.js file. Inside of it there are three functions: "change_input()" works in the index.html, and it changes the input field depending on the type of delivery the user chose, also disabling the email field if the user is eating at the restaurant. "add_combo()" creates a division, and inside of it a select input which has all the menu dishes as options, allowing the users to add as many as they like, and a button, which "onclick" triggers remove_combo(). "remove_combo()" removes the division which contains the button that was pressed, allowing users to delete whichever dish they want.
